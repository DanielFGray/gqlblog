query GithubUserActivity($user: String!, $branches: Int!, $limit: Int!, $forks: Boolean!, $commits: Int!) {
  user(login: $user) {
    repositories(first: $limit, isFork: $forks, orderBy: { field: PUSHED_AT, direction: DESC }) {
      totalCount
      edges {
        node {
          id
          name
          description
          url
          diskUsage
          createdAt
          stargazers {
            totalCount
          }
          forks {
            totalCount
          }
          issues(states: [OPEN]) {
            totalCount
          }
          primaryLanguage {
            name
          }
          refs(refPrefix: "refs/heads/", orderBy: { direction: DESC, field: TAG_COMMIT_DATE }, first: $branches) {
            totalCount
            edges {
              node {
                ... on Ref {
                  name
                  target {
                    ... on Commit {
                      history(first: $commits) {
                        edges {
                          node {
                            ... on Commit {
                              id
                              committedDate
                              message
                              commitUrl
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }
}
